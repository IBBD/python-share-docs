# 爬虫开发过程中的注意问题

常见问题列表：

1. 爬虫的运行目录问题
2. xpath匹配table内容的问题
3. allow_domains配置的问题
3. 编码转换问题


## 1. 爬虫的运行目录问题
爬虫的运行目录，必须和配置文件`scrapy.cfg`是同一个目录。否则会得不到正常的结果。

## 2. xpath匹配table内容的问题
在chrome浏览器中，使用右键菜单审查某个table元素的时候，会发现`tbody`标签，根据此来生成xpath路径时（或者使用右键的`Copy Xpath`功能），带有tbody时，很可能得不到正确的结果。
这是因为代码里，往往没有tbody这个标签所致，而是table就直接到了tr，查看一下页面源码就知道了。

**chrome的审查元素功能只能作为生成xpath的辅助，最终还是要看页面的源码。**

## 3. allow_domains配置的问题
爬虫在抓取的过程中，域名可能会变化，特别是子域名可能经常变化（例如列表页和详情页可能用的就不是相同的域名）。

如果配置不对，在pipeline里可能就会收不到相应的item数据。（数据被过滤了）

## 编码转换问题



